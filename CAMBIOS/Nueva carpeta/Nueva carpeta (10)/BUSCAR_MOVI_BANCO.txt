USE [MARKET_CELESTE]
GO
/****** Object:  StoredProcedure [dbo].[BUSCAR_MOVI_BANCO]    Script Date: 12/31/2018 08:43:35 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


ALTER PROCEDURE [dbo].[BUSCAR_MOVI_BANCO]
	@ID_MOVB BIGINT
  AS
BEGIN
SELECT     MOVI_BANCO.ID_MOVB, MOVI_BANCO.TIPO_MOVB, MOVI_BANCO.COD_CONCEPTO, MOVI_BANCO.MONTO_MOVB, MOVI_BANCO.GIRO_MOVB, 
                      MOVI_BANCO.OPER_MOVB, MOVI_BANCO.OBSERV_MOVB, CONCEPTOS.DESC_CONCEPTO, ISNULL(MOVI_BANCO.FCOBRO_MOVB, '') AS FCOBRO_MOVB, 
                      CONCEPTOS.FCOBRO_CONCEPTO, ISNULL(MOVI_BANCO.CODG_MOVB, '') AS CODG_MOVB, ISNULL(MOVI_BANCO.TIPG_MOVB, '') AS TIPG_MOVB, 
                      ISNULL(PROVEEDORES.DESC_PROVED, '') AS DESC_PROVED, ISNULL(OTROS.DESC_OTRO, '') AS DESC_OTRO, ISNULL(MOVI_BANCO.PAGO_MOVB, 0) 
                      AS PAGO_MOVB, ISNULL(MOVI_BANCO.REF_MOVB, '') AS REF_MOVB, ISNULL(MOVI_BANCO.COD_FPAGOM, '') AS COD_FPAGOM, ISNULL(MOVI_BANCO.TC_MOVB, 0)
                       AS TC_MOVB, ISNULL(CONCEPTOS.TC_CONCEPTO, 0) AS TC_CONCEPTO, ISNULL(CONCEPTOS.TRANSF_CONCEPTO, 0) AS TRANSF_CONCEPTO, 
                      ISNULL(MOVI_BANCO_1.COD_BANCO, 0) AS COD_BANCOD, ISNULL(BANCOS.DESC_BANCO, '') AS DESC_BANCOD, ISNULL(CTABANC.ACTADESC, '') AS ACTADESC, 
                      ISNULL(MOVI_BANCO.COD_DCOMITE, 0) AS COD_DCOMITE, ISNULL(DETALLE_COMITE.DESC_DCOMITE, '') AS DESC_DCOMITE
FROM         DETALLE_COMITE RIGHT OUTER JOIN
                      MOVI_BANCO INNER JOIN
                      CONCEPTOS ON MOVI_BANCO.COD_CONCEPTO = CONCEPTOS.COD_CONCEPTO ON 
                      DETALLE_COMITE.COD_DCOMITE = MOVI_BANCO.COD_DCOMITE LEFT OUTER JOIN
                      BANCOS INNER JOIN
                      CTABANC ON BANCOS.COD_BANCO = CTABANC.COD_BANCO RIGHT OUTER JOIN
                      MOVI_BANCO AS MOVI_BANCO_1 ON BANCOS.COD_BANCO = MOVI_BANCO_1.COD_BANCO ON 
                      MOVI_BANCO.ID_MOVB_D = MOVI_BANCO_1.ID_MOVB LEFT OUTER JOIN
                      OTROS ON MOVI_BANCO.CODG_MOVB = OTROS.COD_OTRO LEFT OUTER JOIN
                      PROVEEDORES ON MOVI_BANCO.CODG_MOVB = PROVEEDORES.COD_PROVED
WHERE     (MOVI_BANCO.ID_MOVB = @ID_MOVB)
END











