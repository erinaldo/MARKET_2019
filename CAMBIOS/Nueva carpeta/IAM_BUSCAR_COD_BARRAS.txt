USE [MARKET]
GO
/****** Object:  StoredProcedure [dbo].[IAM_BUSCAR_COD_BARRAS]    Script Date: 03/10/2018 19:18:32 ******/
SET ANSI_NULLS OFF
GO
SET QUOTED_IDENTIFIER OFF
GO
ALTER PROCEDURE [dbo].[IAM_BUSCAR_COD_BARRAS]
@COD_BARRAS CHAR(45)
 AS

SELECT     dbo.ARTICULOS.COD_ART, dbo.ARTICULOS.DESC_ART, dbo.ART_BARRAS.COD_BARRAS, dbo.ART_PRECIO.PREBASE
FROM         dbo.ARTICULOS INNER JOIN
                      dbo.ART_BARRAS ON dbo.ARTICULOS.COD_ART = dbo.ART_BARRAS.COD_ART INNER JOIN
                      dbo.ART_PRECIO ON dbo.ARTICULOS.COD_ART = dbo.ART_PRECIO.COD_ART
WHERE     (dbo.ART_PRECIO.COD_TPRECIO = '01') AND (COD_BARRAS=@COD_BARRAS OR ARTICULOS.COD_ART=@COD_BARRAS)
	AND STAT_BARRAS=0 AND 
                      (dbo.ART_PRECIO.STAT_AP = 0) AND  (dbo.ARTICULOS.STAT_ART = 0)