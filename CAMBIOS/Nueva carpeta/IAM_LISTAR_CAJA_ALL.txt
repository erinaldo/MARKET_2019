
/****** Object:  StoredProcedure [dbo].[IAM_LISTAR_CAJA_ALL]    Script Date: 03/19/2018 08:55:26 ******/
SET ANSI_NULLS OFF
GO
SET QUOTED_IDENTIFIER OFF
GO

CREATE PROCEDURE [dbo].[IAM_LISTAR_CAJA_ALL]
@FI CHAR(8),@FF CHAR(8),
@CADENA VARCHAR(MAX)

AS
DECLARE @CAD VARCHAR(MAX)
SET @CAD=''

SET @CAD="SELECT 'Caja' AS Origen, ID_CAJA AS Codigo, TIPOMOVI AS Tipo, FECHA_CAJA AS Fecha, FECHA_REG AS FProceso, '' AS Ruc, "+
" OBSERV_CAJA AS Observ, 0 AS Dscto,0.00 AS SubTotal, 0.00 AS Igv, MONTO_CAJA AS Total, FECHA_REG AS FechaReg, "+
" COD_USER AS Usuario, NROPTOVTA AS PtoVta, TURNO as Turno,'' as Estado "+
" FROM MOVICAJA "
SET @CAD=@CAD+" WHERE (FECHA_CAJA BETWEEN '"+@FI+"' AND '"+@FF+"') "    


SET @CAD=@CAD+@CADENA



SET @CAD=@CAD+" ORDER BY FECHA_REG"

PRINT @CAD
EXEC(@CAD)
